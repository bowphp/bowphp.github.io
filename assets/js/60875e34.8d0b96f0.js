"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4554],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>k});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),i=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=i(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=u(e,["components","mdxType","originalType","parentName"]),c=i(n),m=a,k=c["".concat(s,".").concat(m)]||c[m]||d[m]||o;return n?r.createElement(k,l(l({ref:t},p),{},{components:n})):r.createElement(k,l({ref:t},p))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=m;var u={};for(var s in t)hasOwnProperty.call(t,s)&&(u[s]=t[s]);u.originalType=e,u[c]="string"==typeof e?e:a,l[1]=u;for(var i=2;i<o;i++)l[i]=n[i];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6351:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>u,toc:()=>i});var r=n(7462),a=(n(7294),n(3905));const o={id:"tutorial",title:"\ud83d\udc69\ud83c\udfff\u200d\ud83c\udfeb Avec un tutoriel"},l=void 0,u={unversionedId:"tutorial",id:"tutorial",title:"\ud83d\udc69\ud83c\udfff\u200d\ud83c\udfeb Avec un tutoriel",description:"- Introduction",source:"@site/docs/tutorial.md",sourceDirName:".",slug:"/tutorial",permalink:"/docs/next/tutorial",draft:!1,editUrl:"https://crowdin.com/project/bowphp/fr",tags:[],version:"current",lastUpdatedBy:"Franck DAKIA",lastUpdatedAt:1672493455,formattedLastUpdatedAt:"31 d\xe9c. 2022",frontMatter:{id:"tutorial",title:"\ud83d\udc69\ud83c\udfff\u200d\ud83c\udfeb Avec un tutoriel"},sidebar:"docs",previous:{title:"\u2699\ufe0f App Structure",permalink:"/docs/next/structure"},next:{title:"\ud83d\udc69\ud83c\udffd\u200d\ud83c\udf73 Guide de Contribution",permalink:"/docs/next/contribution"}},s={},i=[{value:"Introduction",id:"introduction",level:2},{value:"Des pages statiques",id:"des-pages-statiques",level:2},{value:"Exeminons le code par defaut dans le framework",id:"exeminons-le-code-par-defaut-dans-le-framework",level:3},{value:"Cr\xe9ons notre premier contr\xf4leur",id:"cr\xe9ons-notre-premier-contr\xf4leur",level:3},{value:"Ajout de logique au contr\xf4leur",id:"ajout-de-logique-au-contr\xf4leur",level:3},{value:"Routing",id:"routing",level:3},{value:"La section Nouvelles",id:"la-section-nouvelles",level:2},{value:"Mise en place de votre mod\xe8le",id:"mise-en-place-de-votre-mod\xe8le",level:3},{value:"Il manque quelque chose ?",id:"il-manque-quelque-chose-",level:2}],p={toc:i};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#introduction"},"Introduction")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#des-pages-statiques"},"Des pages statiques"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#exeminons-le-code-par-defaut-dans-le-framework"},"Exeminons le code par defaut dans le framework")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#cr%C3%A9ons-notre-premier-contr%C3%B4leur"},"Cr\xe9ons notre premier contr\xf4leur")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#ajout-de-logique-au-contr%C3%B4leur"},"Ajout de logique au contr\xf4leur")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#routing"},"Routing")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#la-section-nouvelles"},"La section Nouvelles"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#mise-en-place-de-votre-mod%C3%A8le"},"Mise en place de votre mod\xe8le")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#il-manque-quelque-chose-"},"Il manque quelque chose ?"))),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"Ce tutoriel a pour but de vous pr\xe9senter Bow Framework et les principes de base de l\u2019architecture MVC. Il vous montrera comment une application Bow Framework de base est construite \xe9tape par \xe9tape."),(0,a.kt)("p",null,"Dans ce tutoriel, vous allez cr\xe9er une application d'actualit\xe9s de base. Vous commencerez par \xe9crire le code pouvant charger des pages statiques. Vous allez ensuite cr\xe9er une section de nouvelles qui lit les nouvelles d'une base de donn\xe9es. Enfin, vous allez ajouter un formulaire pour cr\xe9er des \xe9l\xe9ments d\u2019actualit\xe9 dans la base de donn\xe9es."),(0,a.kt)("p",null,"Ce tutoriel portera principalement sur:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Principes de base de Model-View-Controller"),(0,a.kt)("li",{parentName:"ul"},"Bases du ",(0,a.kt)("a",{parentName:"li",href:"./routing"},"routage")),(0,a.kt)("li",{parentName:"ul"},"Validation du formulaire"),(0,a.kt)("li",{parentName:"ul"},"Effectuer des requ\xeates de base de base de donn\xe9es \xe0 l'aide de \xabG\xe9n\xe9rateur de requ\xeates\xbb")),(0,a.kt)("p",null,"L'ensemble du tutoriel est divis\xe9 en plusieurs partie, chacune expliquant une petite partie des fonctionnalit\xe9s de Bow Framework."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Introduction, cette partie, qui vous donne un aper\xe7u de ce \xe0 quoi vous attendre."),(0,a.kt)("li",{parentName:"ul"},"Des pages statiques, qui vous apprendront les bases des contr\xf4leurs, des vues et du ",(0,a.kt)("a",{parentName:"li",href:"./routing"},"routage"),"."),(0,a.kt)("li",{parentName:"ul"},"La section Nouvelles, o\xf9 vous commencerez \xe0 utiliser des mod\xe8les et effectuerez des op\xe9rations de base de base de donn\xe9es."),(0,a.kt)("li",{parentName:"ul"},"Cr\xe9ez des \xe9l\xe9ments d'actualit\xe9, qui introduiront des op\xe9rations de base de donn\xe9es plus avanc\xe9es et la validation des formulaires."),(0,a.kt)("li",{parentName:"ul"},"Conclusion, qui vous donnera des indications sur des lectures compl\xe9mentaires et d\u2019autres ressources.")),(0,a.kt)("h2",{id:"des-pages-statiques"},"Des pages statiques"),(0,a.kt)("p",null,"Remarque: Ce tutoriel suppose que vous avez install\xe9 le ",(0,a.kt)("a",{parentName:"p",href:"/docs/next/installation"},"framework")," dans votre environnement de d\xe9veloppement."),(0,a.kt)("h3",{id:"exeminons-le-code-par-defaut-dans-le-framework"},"Exeminons le code par defaut dans le framework"),(0,a.kt)("p",null,"Dans le code de base de l'application, quand vous lancez le serveur de d\xe9veloppement. Rendez-vous sur le page ",(0,a.kt)("inlineCode",{parentName:"p"},"http://localhost:5000"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Ici le port 5000 est celui par d\xe9faut dans l'application.")),(0,a.kt)("p",null,"Vous aurez une page d'accueil pr\xe9sentant le framework. Alors cette page ne sort pas de nul part mais est stock\xe9 dans le dossier ",(0,a.kt)("inlineCode",{parentName:"p"},"templates")," qui h\xe9berge tout les vues de votre application."),(0,a.kt)("p",null,"Dans ce dossier vous verez le fichier ",(0,a.kt)("inlineCode",{parentName:"p"},"layout.tintin.php")," et ",(0,a.kt)("inlineCode",{parentName:"p"},"welcome.tintin.php")," (Ne vous laissez par intimider par l'extension ",(0,a.kt)("inlineCode",{parentName:"p"},"tintin.php"),", nous allons revenir dessus dans la suite)."),(0,a.kt)("p",null,"Dans le fichier ",(0,a.kt)("inlineCode",{parentName:"p"},"welcome.tintin.php"),". Modifiez le contenu de la section comme ceci:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-css"},"#block('content')\n  Ah, bow c'est top.\n#endblock\n")),(0,a.kt)("p",null,"En actualisons la page. Normalement si tout c'est bien pass\xe9 vous verrez le message ",(0,a.kt)("inlineCode",{parentName:"p"},"Ah, bow c'est top.")," affich\xe9."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"D\xe9fi: Prenez le temps pour manipuler les vues et observer le fichier ",(0,a.kt)("inlineCode",{parentName:"p"},"routes/app.php")," et ",(0,a.kt)("inlineCode",{parentName:"p"},"app/Controllers/WelcomeController"),".")),(0,a.kt)("p",null,"Dans le fichier ",(0,a.kt)("inlineCode",{parentName:"p"},"routes/app.php")," vous avez certainement remarquer le contenu:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$app->get('/', function () {\n  return response()->view('welcome');\n});\n")),(0,a.kt)("p",null,"En fait le ",(0,a.kt)("inlineCode",{parentName:"p"},"$app->get('/')")," c'est qu'on appel une route. et ensuite la fonction, le ",(0,a.kt)("inlineCode",{parentName:"p"},"function () {...")," c'est une action associ\xe9 \xe0 la route."),(0,a.kt)("p",null,"Donc tout fois que dans le navigateur l'utilisateur entrera la route ",(0,a.kt)("strong",{parentName:"p"},"/"),". L'application Bow va d\xe9tect\xe9 la route correspondante et lanc\xe9 l'action associ\xe9."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Cette fonction s'appel le routage ou routing en anglais.")),(0,a.kt)("p",null,"Alors dans l'action. Il y a une instruction et sera ex\xe9cut\xe9 en m\xeame temps que l'action:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"response()->view('welcome');\n")),(0,a.kt)("p",null,"Cette m\xe9thode en r\xe9alit\xe9 charge la vue ",(0,a.kt)("inlineCode",{parentName:"p"},"welcome")," et et pour fini, l'action renvoie la r\xe9ponse \xe0 l'utilisateur."),(0,a.kt)("p",null,"Un dernier truc avant de terminer cette section. Ajout ce morceau de code dans le fichier ",(0,a.kt)("inlineCode",{parentName:"p"},"route/app.php"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$app->get('/:name', function ($name) {\n  return \"Bonjour \".$name;\n});\n")),(0,a.kt)("p",null,"Dans le navigateur entrons l'url suivant ",(0,a.kt)("inlineCode",{parentName:"p"},"http://localhost:5000/franck"),". Vous devrez voir afficher le contenu suivant ",(0,a.kt)("inlineCode",{parentName:"p"},"Bonjour franck"),"."),(0,a.kt)("p",null,"Ici vous remarquez certainement le ",(0,a.kt)("inlineCode",{parentName:"p"},":name"),". C'est ce qu'on l'appel un param\xeatre url. Bow Framework ici capture la chaine qui est \xe0 la suite de ",(0,a.kt)("inlineCode",{parentName:"p"},"/")," pour note cas c'est ",(0,a.kt)("inlineCode",{parentName:"p"},"franck")," et le sauvegarde dans une variable que vous pouvez utiliser en param\xe8tre de l'action. C'est super n'est pas !"),(0,a.kt)("h3",{id:"cr\xe9ons-notre-premier-contr\xf4leur"},"Cr\xe9ons notre premier contr\xf4leur"),(0,a.kt)("p",null,"Assez parl\xe9 on continue notre tutoriel. La premi\xe8re chose \xe0 faire est de configurer un contr\xf4leur pour g\xe9rer les pages statiques."),(0,a.kt)("p",null,"Un contr\xf4leur est simplement une classe qui aide \xe0 d\xe9l\xe9guer le travail. C'est le contre de votre application web."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Pour des contr\xf4leurs ? C'est juste une question de bien organiser les choses et aussi de respecter le parten SRP (Single Responsibility Principle)")),(0,a.kt)("p",null,"Pour ajouter une contr\xf4leur dans votre application vous pouvez utiliser l'assistant ",(0,a.kt)("inlineCode",{parentName:"p"},"php bow")," et ici nous allons cr\xe9er une contr\xf4leur nommer ",(0,a.kt)("inlineCode",{parentName:"p"},"ActualityController"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"php bow add:controller ActualityController\n")),(0,a.kt)("p",null,"Normalement vous devez avoir une contr\xf4leur ",(0,a.kt)("inlineCode",{parentName:"p"},"ActualityController")," dans le dossier ",(0,a.kt)("inlineCode",{parentName:"p"},"app/Controller"),". Regardons un peu son contenu:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"namespace App\\Controllers;\n\nuse App\\Controllers\\Controller;\nuse Bow\\Http\\Request;\n\nclass ActualityController extends Controller\n{\n  //\n}\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Vous pouvez supprimer le contr\xf4leur ",(0,a.kt)("inlineCode",{parentName:"p"},"app\\Controllers\\WelcomeController")," et l'ignorer.")),(0,a.kt)("p",null,"Ensuite ajoutez une m\xe9thode dans le contr\xf4ler que nous allons appel\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},"showView"),".\nDonc notre contr\xf4leur deviendra:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"namespace App\\Controllers;\n\nuse App\\Controllers\\Controller;\nuse Bow\\Http\\Request;\n\nclass ActualityController extends Controller\n{\n  /**\n   * Show view page\n   *\n   * @return mixed\n   */\n  public function showIndex()\n  {\n\n  }\n}\n")),(0,a.kt)("p",null,'Maintenant que vous avez cr\xe9\xe9 votre premi\xe8re m\xe9thode, il est temps de cr\xe9er des mod\xe8les de page de base. Nous allons cr\xe9er deux "vues" (un layout) qui sera la page mod\xe8le et une page pour afficher la vue en temps que tel.'),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Supprimez le content du dossier ",(0,a.kt)("inlineCode",{parentName:"p"},"templates")," sauf le dossier ",(0,a.kt)("inlineCode",{parentName:"p"},"errors"),".")),(0,a.kt)("p",null,"Cr\xe9ez la page principe (layout) dans ",(0,a.kt)("strong",{parentName:"p"},"templates/layout.tintin.php")," (Cette page existe peut \xeatre d\xe9j\xe0 par d\xe9faut):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<!DOCTYPE html>\n<html>\n  <head>\n    <title>Page Title</title>\n  </head>\n  <body>\n    <p>Bienvenue sur mon site</p>\n  </body>\n</html>\n")),(0,a.kt)("h3",{id:"ajout-de-logique-au-contr\xf4leur"},"Ajout de logique au contr\xf4leur"),(0,a.kt)("p",null,"Pour l'instant la m\xe9thode n'accepte pas de param\xe8tre (dans la suite nous verrons comment injecter des informations \xe0 la m\xe9thode). Les vues statiques seront situ\xe9s dans le r\xe9pertoire ",(0,a.kt)("inlineCode",{parentName:"p"},"templates")," (pour le rappel). Entrons le code suivant dans la fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"showView"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"public function showView()\n{\n  return view('layout');\n}\n")),(0,a.kt)("h3",{id:"routing"},"Routing"),(0,a.kt)("p",null,"Nous avons parl\xe9 un temps soit peut des routes des applications."),(0,a.kt)("p",null,"Ouvrez le fichier de routage situ\xe9 dans ",(0,a.kt)("inlineCode",{parentName:"p"},"routes/app.php")," et ajoutez les deux lignes suivantes. Supprimez tout autre code d\xe9finissant une route et ajoutons le code suivant:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$app->get('/', 'ActualityController::showView');\n")),(0,a.kt)("p",null,'Pour rappel, Bow Framework lit ses r\xe8gles de routage de haut en bas et achemine la demande vers la premi\xe8re r\xe8gle correspondante. Chaque r\xe8gle est une expression r\xe9guli\xe8re (\xe0 gauche) mapp\xe9e sur un contr\xf4leur et un nom de m\xe9thode s\xe9par\xe9s par des "::" (\xe0 droite).'),(0,a.kt)("p",null,"Lorsqu'une requ\xeate arrive, Bow Framework recherche la premi\xe8re correspondance et appelle le contr\xf4leur et la m\xe9thode appropri\xe9s, \xe9ventuellement avec des arguments."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Vous trouverez plus d'informations sur le routage dans la ",(0,a.kt)("a",{parentName:"p",href:"/docs/next/routing"},"documentation")," de routage URI.")),(0,a.kt)("h2",{id:"la-section-nouvelles"},"La section Nouvelles"),(0,a.kt)("p",null,"Dans la derni\xe8re section, nous avons pass\xe9 en revue quelques concepts de base du Framework en \xe9crivant une classe qui comprend des pages statiques. Nous avons nettoy\xe9 l'URI en ajoutant des r\xe8gles de routage personnalis\xe9es. Il est maintenant temps d\u2019introduire du contenu dynamique et de commencer \xe0 utiliser une base de donn\xe9es."),(0,a.kt)("h3",{id:"mise-en-place-de-votre-mod\xe8le"},"Mise en place de votre mod\xe8le"),(0,a.kt)("p",null,"Au lieu d'\xe9crire les op\xe9rations de base de donn\xe9es directement dans le contr\xf4leur, les requ\xeates doivent \xeatre plac\xe9es dans un mod\xe8le afin de pouvoir \xeatre facilement r\xe9utilis\xe9es ult\xe9rieurement. Les mod\xe8les sont l'endroit o\xf9 vous r\xe9cup\xe9rez, ins\xe9rez et mettez \xe0 jour des informations dans votre base de donn\xe9es ou dans d'autres magasins de donn\xe9es. Ils repr\xe9sentent vos donn\xe9es."),(0,a.kt)("p",null,"Ouvrez le r\xe9pertoire ",(0,a.kt)("inlineCode",{parentName:"p"},"app/Models"),", vous verrez un fichier ",(0,a.kt)("inlineCode",{parentName:"p"},"User.php")," c'est une mod\xe8le. Pour ajouter un mod\xe8le dans notre application nous allons utiliser ",(0,a.kt)("inlineCode",{parentName:"p"},"php bow"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"php bow add:model Actuality\n")),(0,a.kt)("h2",{id:"il-manque-quelque-chose-"},"Il manque quelque chose ?"),(0,a.kt)("p",null,"Si vous rencontrez des probl\xe8mes avec la documentation ou si vous avez des suggestions pour am\xe9liorer la documentation ou le projet en g\xe9n\xe9ral, veuillez d\xe9poser une issue pour nous, ou envoyer un tweet mentionnant le compte Twitter @BowFramework ou sur directement sur le ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/bowphp/docs/issues"},"github"),"."))}c.isMDXComponent=!0}}]);