"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9910],{3905:(e,t,r)=>{r.d(t,{Zo:()=>s,kt:()=>h});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),o=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},s=function(e){var t=o(e.components);return n.createElement(p.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,s=u(e,["components","mdxType","originalType","parentName"]),d=o(r),m=a,h=d["".concat(p,".").concat(m)]||d[m]||c[m]||l;return r?n.createElement(h,i(i({ref:t},s),{},{components:r})):n.createElement(h,i({ref:t},s))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=r.length,i=new Array(l);i[0]=m;var u={};for(var p in t)hasOwnProperty.call(t,p)&&(u[p]=t[p]);u.originalType=e,u[d]="string"==typeof e?e:a,i[1]=u;for(var o=2;o<l;o++)i[o]=r[o];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},5313:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(7294);const a=()=>n.createElement(n.Fragment,null,n.createElement("h2",null,"Il manque quelque chose ?"),n.createElement("p",null,"Si vous rencontrez des probl\xe8mes avec la documentation ou si vous avez des suggestions pour am\xe9liorer la documentation ou le projet en g\xe9n\xe9ral, veuillez d\xe9poser une issue pour nous, ou envoyer un tweet mentionnant le compte Twitter"," ",n.createElement("a",{href:"https://twitter.com/@bowframework"},"@bowframework")," ou sur directement sur le"," ",n.createElement("a",{href:"https://github.com/bowphp/docs/issues"},"github"),"."))},8279:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>u,default:()=>c,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var n=r(7462),a=(r(7294),r(3905)),l=r(5313);const i={id:"http-request",title:"\ud83d\ude80 HTTP Request"},u=void 0,p={unversionedId:"http-request",id:"http-request",title:"\ud83d\ude80 HTTP Request",description:"- Introduction",source:"@site/docs/requests.mdx",sourceDirName:".",slug:"/http-request",permalink:"/docs/next/http-request",draft:!1,editUrl:"https://crowdin.com/project/bowphp/fr",tags:[],version:"current",lastUpdatedBy:"Franck DAKIA",lastUpdatedAt:1673138992,formattedLastUpdatedAt:"8 janv. 2023",frontMatter:{id:"http-request",title:"\ud83d\ude80 HTTP Request"},sidebar:"docs",previous:{title:"\ud83d\udc89 Seeding",permalink:"/docs/next/seeding"},next:{title:"\ud83d\udce6 HTTP Response",permalink:"/docs/next/http-response"}},o={},s=[{value:"Introduction",id:"introduction",level:2},{value:"Acc\xe9der \xe0 la requ\xeate",id:"acc\xe9der-\xe0-la-requ\xeate",level:2},{value:"Recup\xe9ration des donn\xe9es",id:"recup\xe9ration-des-donn\xe9es",level:2},{value:"Via des Closures de route",id:"via-des-closures-de-route",level:3},{value:"Via un controlleur",id:"via-un-controlleur",level:3},{value:"Chemin de requ\xeate et m\xe9thode",id:"chemin-de-requ\xeate-et-m\xe9thode",level:2},{value:"R\xe9cup\xe9rer le chemin de requ\xeate",id:"r\xe9cup\xe9rer-le-chemin-de-requ\xeate",level:3},{value:"R\xe9cup\xe9rer la m\xe9thode de requ\xeate",id:"r\xe9cup\xe9rer-la-m\xe9thode-de-requ\xeate",level:3},{value:"V\xe9rifier si la requ\xeate est en AJAX",id:"v\xe9rifier-si-la-requ\xeate-est-en-ajax",level:3},{value:"R\xe9cup\xe9rer une entr\xe9e",id:"r\xe9cup\xe9rer-une-entr\xe9e",level:3},{value:"Recup\xe9ration d&#39;une partie des donn\xe9es d&#39;entr\xe9e",id:"recup\xe9ration-dune-partie-des-donn\xe9es-dentr\xe9e",level:3},{value:"D\xe9terminer si une valeur d&#39;entr\xe9e est pr\xe9sente",id:"d\xe9terminer-si-une-valeur-dentr\xe9e-est-pr\xe9sente",level:3},{value:"D\xe9terminer l&#39;adresse IP de client",id:"d\xe9terminer-ladresse-ip-de-client",level:3},{value:"D\xe9terminer le Port de client",id:"d\xe9terminer-le-port-de-client",level:3},{value:"D\xe9terminer le protocol de client",id:"d\xe9terminer-le-protocol-de-client",level:3},{value:"R\xe9cup\xe9rer les ent\xeate-https",id:"r\xe9cup\xe9rer-les-ent\xeate-https",level:3},{value:"R\xe9cup\xe9rer le IP du server",id:"r\xe9cup\xe9rer-le-ip-du-server",level:3},{value:"R\xe9cup\xe9rer le domaine Origin",id:"r\xe9cup\xe9rer-le-domaine-origin",level:3},{value:"R\xe9cup\xe9rer le temps de la requ\xeate",id:"r\xe9cup\xe9rer-le-temps-de-la-requ\xeate",level:3},{value:"R\xe9cup\xe9rer une instance de la session",id:"r\xe9cup\xe9rer-une-instance-de-la-session",level:3},{value:"R\xe9cup\xe9rer l&#39;authentification courante",id:"r\xe9cup\xe9rer-lauthentification-courante",level:3}],d={toc:s};function c(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#introduction"},"Introduction")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#acc%C3%A9der-%C3%A0-la-requ%C3%AAte"},"Acc\xe9der \xe0 la requ\xeate")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#recup%C3%A9ration-des-donn%C3%A9es"},"Recup\xe9ration des donn\xe9es"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#via-des-closures-de-route"},"Via des Closures de route")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#via-un-controlleur"},"Via un controlleur")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#chemin-de-requ%C3%AAte-et-m%C3%A9thode"},"Chemin de requ\xeate et m\xe9thode"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#r%C3%A9cup%C3%A9rer-le-chemin-de-requ%C3%AAte"},"R\xe9cup\xe9rer le chemin de requ\xeate")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#r%C3%A9cup%C3%A9rer-la-m%C3%A9thode-de-requ%C3%AAte"},"R\xe9cup\xe9rer la m\xe9thode de requ\xeate")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#v%C3%A9rifier-si-la-requ%C3%AAte-est-en-ajax"},"V\xe9rifier si la requ\xeate est en AJAX")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#r%C3%A9cup%C3%A9rer-une-entr%C3%A9e"},"R\xe9cup\xe9rer une entr\xe9e")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#recup%C3%A9ration-dune-partie-des-donn%C3%A9es-dentr%C3%A9e"},"Recup\xe9ration d'une partie des donn\xe9es d'entr\xe9e")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#d%C3%A9terminer-si-une-valeur-dentr%C3%A9e-est-pr%C3%A9sente"},"D\xe9terminer si une valeur d'entr\xe9e est pr\xe9sente")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#d%C3%A9terminer-ladresse-ip-de-client"},"D\xe9terminer l'adresse IP de client")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#d%C3%A9terminer-le-port-de-client"},"D\xe9terminer le Port de client")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#d%C3%A9terminer-le-protocol-de-client"},"D\xe9terminer le protocol de client")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#r%C3%A9cup%C3%A9rer-les-ent%C3%AAte-https"},"R\xe9cup\xe9rer les ent\xeate-https")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#r%C3%A9cup%C3%A9rer-le-ip-du-server"},"R\xe9cup\xe9rer le IP du server")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#r%C3%A9cup%C3%A9rer-le-domaine-origin"},"R\xe9cup\xe9rer le domaine Origin")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#r%C3%A9cup%C3%A9rer-le-temps-de-la-requ%C3%AAte"},"R\xe9cup\xe9rer le temps de la requ\xeate")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#r%C3%A9cup%C3%A9rer-une-instance-de-la-session"},"R\xe9cup\xe9rer une instance de la session")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#r%C3%A9cup%C3%A9rer-lauthentification-courante"},"R\xe9cup\xe9rer l'authentification courante"))))),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"Une requ\xeate HTTP est le message que l'utilisateur envoie \xe0 l'application Bow via son navigateur ou d'autre outil tel que ",(0,a.kt)("inlineCode",{parentName:"p"},"curl"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"httpie")," et autre."),(0,a.kt)("p",null,"Ce message est trait\xe9 par Bow \xe0 travers la classe ",(0,a.kt)("a",{parentName:"p",href:"https://bowphp.com/api/master/Bow/Http/Request.html"},(0,a.kt)("inlineCode",{parentName:"a"},"Bow\\Http\\Request")),". Cette classe vous permet d'avoir les informations sur la requ\xeate envoy\xe9 par l'utilisateur comme son adresse ip, le type du message, les information d'un formulaire etc..."),(0,a.kt)("h2",{id:"acc\xe9der-\xe0-la-requ\xeate"},"Acc\xe9der \xe0 la requ\xeate"),(0,a.kt)("p",null,"Pour capturer un message ou requ\xeate HTTP, vous pouvez premi\xe8rement utiliser le helper ",(0,a.kt)("inlineCode",{parentName:"p"},"request()")," qui vous donne une instance de ",(0,a.kt)("a",{parentName:"p",href:"https://bowphp.com/api/master/Bow/Http/Request.html"},(0,a.kt)("inlineCode",{parentName:"a"},"Bow\\Http\\Request")),", deuxi\xe8mement vous pouvez passer par l'injecteur de d\xe9pendance via une action de contr\xf4leur."),(0,a.kt)("h2",{id:"recup\xe9ration-des-donn\xe9es"},"Recup\xe9ration des donn\xe9es"),(0,a.kt)("p",null,"En utilisant quelques m\xe9thodes simples, vous pouvez acc\xe9der \xe0 toutes les entr\xe9es utilisateur de votre application."),(0,a.kt)("h3",{id:"via-des-closures-de-route"},"Via des Closures de route"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Avec le helper ",(0,a.kt)("inlineCode",{parentName:"li"},"request"),":")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$app->get('/', function ()\n{\n  $request = request();\n\n  $name = $request->get('name');\n  // code ici\n});\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Par l'injection de d\xe9pendance")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"use Bow\\Http\\Request;\n\n$app->get('/', function (Request $request)\n{\n  return $request->get('name');\n});\n")),(0,a.kt)("h3",{id:"via-un-controlleur"},"Via un controlleur"),(0,a.kt)("p",null,"Si votre m\xe9thode de contr\xf4leur attend \xe9galement une entr\xe9e d'un param\xe8tre de route, vous devez r\xe9pertorier les param\xe8tres de votre route apr\xe8s vos autres d\xe9pendances. Par exemple, si votre route est d\xe9fini comme suit:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$app->get('/users/:id', 'UserController::show');\n")),(0,a.kt)("p",null,"Vous pouvez toujours taper la requ\xeate ",(0,a.kt)("a",{parentName:"p",href:"https://bowphp.com/api/master/Bow/Http/Request.html"},"Bow\\Http\\Request")," et acc\xe9der \xe0 l'id de votre param\xe8tre de route en d\xe9finissant votre m\xe9thode de contr\xf4leur comme suit:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"namespace App\\Controllers;\n\nuse App\\Controllers\\Controller;\nuse App\\Models\\User;\nuse Bow\\Http\\Request;\n\nclass UserController extends Controller\n{\n  /**\n   * Afficher le profil pour l'utilisateur donn\xe9\n   *\n   * @param Request $reuest\n   * @return mixed\n   */\n  public function show(Request $reuest, $id)\n  {\n    $user = User::where('id', $id)->first();\n\n    $user->name = $request->get('name');\n\n    $user->save();\n\n    return $this->render('user/profile', ['user' => $user]);\n  }\n}\n")),(0,a.kt)("h2",{id:"chemin-de-requ\xeate-et-m\xe9thode"},"Chemin de requ\xeate et m\xe9thode"),(0,a.kt)("h3",{id:"r\xe9cup\xe9rer-le-chemin-de-requ\xeate"},"R\xe9cup\xe9rer le chemin de requ\xeate"),(0,a.kt)("p",null,"La m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"path")," renvoie les informations de chemin de la requ\xeate. Ainsi, si la requ\xeate entrante est cibl\xe9e sur ",(0,a.kt)("inlineCode",{parentName:"p"},"http://example.com/bar/zar"),", la m\xe9thode path retournera ",(0,a.kt)("inlineCode",{parentName:"p"},"bar/zar"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$uri = $request->path();\n")),(0,a.kt)("p",null,"La m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"is")," vous permet de v\xe9rifier que le chemin de requ\xeate entrant correspond \xe0 un mod\xe8le donn\xe9. Vous pouvez utiliser le caract\xe8re ",(0,a.kt)("inlineCode",{parentName:"p"},"*")," comme caract\xe8re g\xe9n\xe9rique lorsque vous utilisez cette m\xe9thode:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"if ($request->is('users/*')) {\n  //\n}\n")),(0,a.kt)("h3",{id:"r\xe9cup\xe9rer-la-m\xe9thode-de-requ\xeate"},"R\xe9cup\xe9rer la m\xe9thode de requ\xeate"),(0,a.kt)("p",null,"La m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"method")," retournera le verbe HTTP pour la requ\xeate. Vous pouvez utiliser les m\xe9thodes ",(0,a.kt)("inlineCode",{parentName:"p"},"isPost"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"isGet"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"isPut"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"isDelete"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"isOptions"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"isPutch")," pour v\xe9rifier que le verbe HTTP correspond \xe0 une m\xe9thode HTTP de la requ\xeate donn\xe9e:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$method = $request->method();\n\nif ($request->isPost()) {\n  $filename = $request->file('filename');\n  $filename->moveTo('/some/directory');\n}\n")),(0,a.kt)("h3",{id:"v\xe9rifier-si-la-requ\xeate-est-en-ajax"},"V\xe9rifier si la requ\xeate est en AJAX"),(0,a.kt)("p",null,"Pour d\xe9terminer si une requ\xeate a \xe9t\xe9 envoy\xe9 via AJAX, la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"isAjax")," vous permet de v\xe9rifier \xe7a."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"if ($request->isAjax()) {\n  //\n}\n")),(0,a.kt)("h3",{id:"r\xe9cup\xe9rer-une-entr\xe9e"},"R\xe9cup\xe9rer une entr\xe9e"),(0,a.kt)("p",null,"Souvent la requ\xeate envoy\xe9 par le client HTTP contient des donn\xe9es souvent demander pour actioner un mecanisme par exemple celui d'une inscription."),(0,a.kt)("p",null,"Bow Framework dans son d\xe9marrage optimise le donn\xe9e envoy\xe9s au serveur en rempla\xe7ant les valeur vide par ",(0,a.kt)("inlineCode",{parentName:"p"},"null")," et supprimer les spaces blancs dans les valeurs de chaque champs avec la fonction php ",(0,a.kt)("inlineCode",{parentName:"p"},"trim"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$name = $request->get('name');\n\n// R\xe9cup\xe9rer directement la valeur via le nom du champ\n$name = $request->name;\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Vous pouvez aussi d\xe9fini une valeur par d\xe9faut \xe0 ",(0,a.kt)("inlineCode",{parentName:"p"},"get"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$name = $request->get('name', 'Papac');\n\n$name = $request->get('name', function () {\n  return User::first()->name;\n});\n")),(0,a.kt)("p",null,"Ceci permet justement de r\xe9cup\xe9rer le contenu du champ ",(0,a.kt)("inlineCode",{parentName:"p"},"name")," d'un formulaire ou d'un url en fonction du type de requ\xeate."),(0,a.kt)("h3",{id:"recup\xe9ration-dune-partie-des-donn\xe9es-dentr\xe9e"},"Recup\xe9ration d'une partie des donn\xe9es d'entr\xe9e"),(0,a.kt)("p",null,"Si vous devez extraire un sous-ensemble des donn\xe9es d'entr\xe9e, vous pouvez utiliser les m\xe9thodes ",(0,a.kt)("inlineCode",{parentName:"p"},"ignore")," et ",(0,a.kt)("inlineCode",{parentName:"p"},"only"),". Ces deux m\xe9thodes acceptent un seul tableau ou une liste d'arguments dynamique:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$input = $request->only(['name', 'lastname']);\n\n$input = $request->only('name', 'lastname');\n\n$input = $request->ignore(['password']);\n\n$input = $request->ignore('password');\n")),(0,a.kt)("h3",{id:"d\xe9terminer-si-une-valeur-dentr\xe9e-est-pr\xe9sente"},"D\xe9terminer si une valeur d'entr\xe9e est pr\xe9sente"),(0,a.kt)("p",null,"Vous devez utiliser la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"has")," pour d\xe9terminer si une valeur est pr\xe9sente sur la requ\xeate. La m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"has")," renvoie ",(0,a.kt)("inlineCode",{parentName:"p"},"true")," si la valeur est pr\xe9sente dans la requ\xeate:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"if ($request->has('name')) {\n  //\n}\n")),(0,a.kt)("h3",{id:"d\xe9terminer-ladresse-ip-de-client"},"D\xe9terminer l'adresse IP de client"),(0,a.kt)("p",null,"Souvent vous allez vouloir l'adresse IP du client qui \xe0 envoyer la requ\xeate, la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"ip")," permet comme son nom l'indique de r\xe9cup\xe9rer l'adresse ip de client:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$ip = $request->ip();\n\nif ($ip == 'xxx.xxx.xxx.xxx') {\n  // code ici\n}\n")),(0,a.kt)("h3",{id:"d\xe9terminer-le-port-de-client"},"D\xe9terminer le Port de client"),(0,a.kt)("p",null,"La m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"port")," permet comme son nom l'indique de r\xe9cup\xe9rer le port de client:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$port = $request->port();\n\n// Code ici\n")),(0,a.kt)("h3",{id:"d\xe9terminer-le-protocol-de-client"},"D\xe9terminer le protocol de client"),(0,a.kt)("p",null,"La m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"protocol")," permet comme son nom l'indique de r\xe9cup\xe9rer le protocol de client:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$protocol = $request->protocol();\n\n// Code ici\n")),(0,a.kt)("p",null,"Il y a aussi la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"isProtocol")," qui permet de faire de v\xe9rification sur le protocol:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"if ($request->isProtocol('http')) {\n  //\n}\n")),(0,a.kt)("p",null,"Et ",(0,a.kt)("inlineCode",{parentName:"p"},"isSecure")," vous permet de v\xe9rifier si la requ\xeate est s\xe9curis\xe9."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"if ($request->isSecure()) {\n  //\n}\n")),(0,a.kt)("h3",{id:"r\xe9cup\xe9rer-les-ent\xeate-https"},"R\xe9cup\xe9rer les ent\xeate-https"),(0,a.kt)("p",null,"Vous avez la possibilit\xe9 de r\xe9cup\xe9rer les ",(0,a.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/fr/docs/Web/HTTP/Headers"},"ent\xeate-https")," du client avec la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"getHeader")," et ",(0,a.kt)("inlineCode",{parentName:"p"},"hasHeader")," pour v\xe9rifier l'existance d'une ent\xeate-http."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$header = $request->getHeader('content-type');\n\necho $header;\n// text/html\n\nif ($request->hasHeader('x-proxy-key')) {\n  // code ici\n}\n")),(0,a.kt)("h3",{id:"r\xe9cup\xe9rer-le-ip-du-server"},"R\xe9cup\xe9rer le IP du server"),(0,a.kt)("p",null,"Vous avez la possibilit\xe9 de r\xe9cup\xe9rer l'adresse IP de serveur sur lequel votre application Bow est h\xe9berg\xe9."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$hostname = $request->hostname();\n\necho $hostname;\n// exemple.com\n")),(0,a.kt)("h3",{id:"r\xe9cup\xe9rer-le-domaine-origin"},"R\xe9cup\xe9rer le domaine Origin"),(0,a.kt)("p",null,"Le domaine dit ",(0,a.kt)("inlineCode",{parentName:"p"},"origin")," est l'adresse r\xe9cup\xe9rer avec la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"hostname")," ensuite associ\xe9 avec le protocol de la requ\xeate."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$hostname = $request->origin();\n\necho $hostname;\n// https://exemple.com\n")),(0,a.kt)("h3",{id:"r\xe9cup\xe9rer-le-temps-de-la-requ\xeate"},"R\xe9cup\xe9rer le temps de la requ\xeate"),(0,a.kt)("p",null,"Il est souvent int\xe9ressent de voir combien de temps \xe0 faire une requ\xeate. La m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"time")," nous permet de le faire et elle retourne un timestamp."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$time = $request->time();\n\necho $time;\n")),(0,a.kt)("h3",{id:"r\xe9cup\xe9rer-une-instance-de-la-session"},"R\xe9cup\xe9rer une instance de la session"),(0,a.kt)("p",null,"Il est souvent int\xe9ressent de manipuler la session directement. La m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"session")," nous permet de le faire et elle retourne l'instance de la session."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$session = $request->session();\n\nvar_dump($session);\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Pour plus d'information sur la session visitez cette page ",(0,a.kt)("a",{parentName:"p",href:"./seeding"},"HTTP Session"))),(0,a.kt)("h3",{id:"r\xe9cup\xe9rer-lauthentification-courante"},"R\xe9cup\xe9rer l'authentification courante"),(0,a.kt)("p",null,"Vous pouvez aussi avoir l'authenticiation en cours si vous avez utiliser le syst\xe8me d'authentification native de Bow Framework."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$user = $request->user();\n\n// Definir le guard\n$user = $request->user('api');\n")),(0,a.kt)(l.Z,{mdxType:"SuggestionFeature"}))}c.isMDXComponent=!0}}]);