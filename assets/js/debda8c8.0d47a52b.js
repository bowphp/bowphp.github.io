"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5069],{3905:(e,n,a)=>{a.d(n,{Zo:()=>u,kt:()=>g});var t=a(7294);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function l(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?l(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function i(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},l=Object.keys(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=t.createContext({}),p=function(e){var n=t.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):o(o({},n),e)),a},u=function(e){var n=p(e.components);return t.createElement(s.Provider,{value:n},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=p(a),m=r,g=c["".concat(s,".").concat(m)]||c[m]||d[m]||l;return a?t.createElement(g,o(o({ref:n},u),{},{components:a})):t.createElement(g,o({ref:n},u))}));function g(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=m;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return t.createElement.apply(null,o)}return t.createElement.apply(null,a)}m.displayName="MDXCreateElement"},7996:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var t=a(7462),r=(a(7294),a(3905));const l={id:"i18n",title:"\ud83c\udf8e i18n"},o=void 0,i={unversionedId:"i18n",id:"i18n",title:"\ud83c\udf8e i18n",description:"- Introduction",source:"@site/docs/localization.md",sourceDirName:".",slug:"/i18n",permalink:"/docs/next/i18n",draft:!1,editUrl:"https://github.com/bowphp/docs/edit/main/website/docs/localization.md",tags:[],version:"current",lastUpdatedBy:"Franck DAKIA",lastUpdatedAt:1672493455,formattedLastUpdatedAt:"Dec 31, 2022",frontMatter:{id:"i18n",title:"\ud83c\udf8e i18n"},sidebar:"docs",previous:{title:"\u2709\ufe0f Envoie de Mail",permalink:"/docs/next/mail"},next:{title:"\ud83d\udeeb Testez votre application",permalink:"/docs/next/testing"}},s={},p=[{value:"Introduction",id:"introduction",level:2},{value:"Configuration",id:"configuration",level:3},{value:"Configuration de la locale",id:"configuration-de-la-locale",level:3},{value:"R\xe9cup\xe9ration de cha\xeenes de traduction",id:"r\xe9cup\xe9ration-de-cha\xeenes-de-traduction",level:2},{value:"D\xe9termination de la locale actuelle",id:"d\xe9termination-de-la-locale-actuelle",level:3},{value:"Remplacement de param\xe8tres dans les cha\xeenes de traduction",id:"remplacement-de-param\xe8tres-dans-les-cha\xeenes-de-traduction",level:3},{value:"La pluralisation",id:"la-pluralisation",level:2},{value:"Il manque quelque chose ?",id:"il-manque-quelque-chose-",level:2}],u={toc:p};function c(e){let{components:n,...a}=e;return(0,r.kt)("wrapper",(0,t.Z)({},u,a,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#introduction"},"Introduction"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#configuration"},"Configuration")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#configuration-de-la-locale"},"Configuration de la locale")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#r%C3%A9cup%C3%A9ration-de-cha%C3%AEnes-de-traduction"},"R\xe9cup\xe9ration de cha\xeenes de traduction"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#d%C3%A9termination-de-la-locale-actuelle"},"D\xe9termination de la locale actuelle")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#remplacement-de-param%C3%A8tres-dans-les-cha%C3%AEnes-de-traduction"},"Remplacement de param\xe8tres dans les cha\xeenes de traduction")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#la-pluralisation"},"La pluralisation"))),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"Dans tout application, il y a le besoin de rendre l'application multi-languge. Bow implement un syst\xe8me simple de tranduction."),(0,r.kt)("script",{id:"asciicast-zxbid2giZdnaJjOhOkALKBC8G",src:"https://asciinema.org/a/zxbid2giZdnaJjOhOkALKBC8G.js","data-rows":"20","data-speed":"2",async:!0}),(0,r.kt)("h3",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"Pour utiliser le syst\xe8me de traduction. Il faut d'abort consid\xe9rer la confirguration qui se trouve dans le dossier ",(0,r.kt)("inlineCode",{parentName:"p"},"config/trans.php"),", dans ce fichier, la langue par defaut c'est le fran\xe7ais, donc le ",(0,r.kt)("inlineCode",{parentName:"p"},"'lang' => 'fr'"),"."),(0,r.kt)("p",null,"Dans le dossier ",(0,r.kt)("inlineCode",{parentName:"p"},"frontend/lang")," sont ranger les traductions de votre application. Ce sont des fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"php")," qui retournent un ",(0,r.kt)("inlineCode",{parentName:"p"},"array")," et si vous remarquez il y a un dossier ",(0,r.kt)("inlineCode",{parentName:"p"},"fr")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"en"),". Ce sont les dossiers pour chaque langue, ici ",(0,r.kt)("inlineCode",{parentName:"p"},"fr")," pour le fran\xe7ais et ",(0,r.kt)("inlineCode",{parentName:"p"},"en")," pour l'anglais et s'il y avait une autre langage par exemple l'espagnol, se serait ",(0,r.kt)("inlineCode",{parentName:"p"},"es")," le nom du dossier."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-txt"},"/frontend\n  /lang\n    /en\n      messages.php\n    /fr\n      messages.php\n")),(0,r.kt)("p",null,"Tous les fichiers de langue renvoient un tableau de cha\xeenes \xe0 cl\xe9."),(0,r.kt)("p",null,"Par exemple:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"// frontend/lang/en/messages.php\nreturn [\n  'welcome' => 'Welcome to our application'\n];\n")),(0,r.kt)("h3",{id:"configuration-de-la-locale"},"Configuration de la locale"),(0,r.kt)("p",null,"La langue par d\xe9faut de votre application est stock\xe9e dans le fichier de configuration ",(0,r.kt)("inlineCode",{parentName:"p"},"config/trans.php"),". Bien entendu, vous pouvez modifier cette valeur pour r\xe9pondre aux besoins de votre application. Vous pouvez \xe9galement modifier la langue active au moment de l'ex\xe9cution \xe0 l'aide de la m\xe9thode ",(0,r.kt)("inlineCode",{parentName:"p"},"setLocale")," sur la classe ",(0,r.kt)("a",{parentName:"p",href:"https://bowphp.com/api/master/Bow/Translate/Translator.html"},(0,r.kt)("inlineCode",{parentName:"a"},"Bow\\Translate\\Translator")),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"use Bow\\Translate\\Translator;\n\n$app->get('docs/:locale', function ($locale) {\n  Translator::setLocale($locale);\n  //\n});\n")),(0,r.kt)("p",null,"Vous pouvez configurer une ",(0,r.kt)("inlineCode",{parentName:"p"},"lang"),", qui sera utilis\xe9e lorsque la langue active ne contient pas une cha\xeene de traduction donn\xe9e. Comme la langue par d\xe9faut, la langue de secours est \xe9galement configur\xe9e dans le fichier de configuration ",(0,r.kt)("inlineCode",{parentName:"p"},"config/trans.php"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"'lang' => 'en',\n")),(0,r.kt)("h2",{id:"r\xe9cup\xe9ration-de-cha\xeenes-de-traduction"},"R\xe9cup\xe9ration de cha\xeenes de traduction"),(0,r.kt)("p",null,"Vous pouvez extraire des lignes de fichiers de langue \xe0 l'aide de la fonction du helper ",(0,r.kt)("inlineCode",{parentName:"p"},"trans")," ou ",(0,r.kt)("inlineCode",{parentName:"p"},"t"),". La m\xe9thode ",(0,r.kt)("inlineCode",{parentName:"p"},"t")," accepte le fichier et la cl\xe9 de la cha\xeene de traduction comme premier argument. Par exemple, r\xe9cup\xe9rons la cha\xeene de traduction de bienvenue dans le fichier de langue ",(0,r.kt)("inlineCode",{parentName:"p"},"frontend/lang/messages.php"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"echo t('messages.welcome');\n\n// Ou bien\necho trans('messages.welcome');\n\n// Ou bien\nuse Bow\\Translate\\Translator;\n\necho Translator::translate('messages.welcome');\n")),(0,r.kt)("h3",{id:"d\xe9termination-de-la-locale-actuelle"},"D\xe9termination de la locale actuelle"),(0,r.kt)("p",null,"Vous pouvez utiliser les m\xe9thodes ",(0,r.kt)("inlineCode",{parentName:"p"},"getLocale")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"isLocale")," sur la classe ",(0,r.kt)("inlineCode",{parentName:"p"},"Translator")," ou par le helper ",(0,r.kt)("inlineCode",{parentName:"p"},"trans")," pour d\xe9terminer les param\xe8tres r\xe9gionaux actuels ou v\xe9rifier si les param\xe8tres r\xe9gionaux correspondent \xe0 une valeur donn\xe9e:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"use Bow\\Translate\\Translator;\n\n$locale = Translator::getLocale();\n\nif (Translator::isLocale('en')) {\n //\n}\n")),(0,r.kt)("p",null,"Via le helper ",(0,r.kt)("inlineCode",{parentName:"p"},"trans")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"$locale = trans()->getLocale();\n\nif (trans()->isLocale('en')) {\n //\n}\n")),(0,r.kt)("p",null,"Si la cha\xeene de traduction sp\xe9cifi\xe9e n'existe pas, la fonction ",(0,r.kt)("inlineCode",{parentName:"p"},"t")," renverra la cl\xe9 de la cha\xeene de traduction. Ainsi, \xe0 l'aide de l'exemple ci-dessus, la fonction ",(0,r.kt)("inlineCode",{parentName:"p"},"t")," renverrait ",(0,r.kt)("inlineCode",{parentName:"p"},"messages.welcome")," si la cha\xeene de traduction n'existe pas."),(0,r.kt)("h3",{id:"remplacement-de-param\xe8tres-dans-les-cha\xeenes-de-traduction"},"Remplacement de param\xe8tres dans les cha\xeenes de traduction"),(0,r.kt)("p",null,"Si vous le souhaitez, vous pouvez d\xe9finir des espaces r\xe9serv\xe9s dans vos cha\xeenes de traduction. Tous les espaces r\xe9serv\xe9s sont encadr\xe9s par ",(0,r.kt)("inlineCode",{parentName:"p"},"{}"),". Par exemple, vous pouvez d\xe9finir un message de bienvenue avec un nom d\u2019espace r\xe9serv\xe9:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"'welcome' => 'Welcome, {name}',\n")),(0,r.kt)("p",null,"Pour remplacer les espaces r\xe9serv\xe9s lors de l'extraction d'une cha\xeene de traduction, transmettez un tableau de remplacements en tant que deuxi\xe8me argument de la fonction ",(0,r.kt)("inlineCode",{parentName:"p"},"t")," ou ",(0,r.kt)("inlineCode",{parentName:"p"},"trans"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"echo t('messages.welcome', ['name' => 'Galy']);\n")),(0,r.kt)("h2",{id:"la-pluralisation"},"La pluralisation"),(0,r.kt)("p",null,'La pluralisation est un probl\xe8me complexe, car diff\xe9rentes langues ont une vari\xe9t\xe9 de r\xe8gles complexes pour la pluralisation. En utilisant un caract\xe8re "pipe" (',(0,r.kt)("inlineCode",{parentName:"p"},"|"),"), vous pouvez distinguer les formes singuli\xe8re et plurielle d'une cha\xeene:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},'"names" => "C\'est un utilisateur|Ce sont des utilisateurs",\n')),(0,r.kt)("p",null,"Apr\xe8s avoir d\xe9fini une cha\xeene de traduction comportant des options de pluralisation, vous pouvez utiliser la fonction ",(0,r.kt)("inlineCode",{parentName:"p"},"t")," ou ",(0,r.kt)("inlineCode",{parentName:"p"},"trans"),". Dans cet exemple, puisque le nombre est sup\xe9rieur \xe0 un, la forme au pluriel de la cha\xeene de traduction est renvoy\xe9e:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},'echo t("messages.names", count($names) > 1);\n')),(0,r.kt)("p",null,"Avec les donn\xe9es remplac\xe9es"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},'"names" => "Bonjour {name}|Bonjour \xe0 tous",\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},'echo t("messages.names", ["name" => "Newt"], count($names) == 1);\n// => Bonjour Mewt\n')),(0,r.kt)("h2",{id:"il-manque-quelque-chose-"},"Il manque quelque chose ?"),(0,r.kt)("p",null,"Si vous rencontrez des probl\xe8mes avec la documentation ou si vous avez des suggestions pour am\xe9liorer la documentation ou le projet en g\xe9n\xe9ral, veuillez d\xe9poser une issue pour nous, ou envoyer un tweet mentionnant le compte Twitter @BowFramework ou sur directement sur le ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/bowphp/docs/issues"},"github"),"."))}c.isMDXComponent=!0}}]);